---
globs: *.ts,*.tsx,*.js,*.jsx
description: 程式碼撰寫標準和規範
---

# 程式碼撰寫標準和規範

## 基本原則

- **最小變更**：只做與當前任務直接相關的最小合理變更
- **風格一致**：優先保持檔案內的程式碼風格一致性
- **可讀性優先**：程式碼應該易於理解和維護

## 註解規範

- **檔案註解**：所有檔案都需以 `// ABOUTME:` 開頭的兩行註解說明其作用
- **註解內容**：註解應描述「為何」而非「如何」，且內容應是永恆的，避免提及時間背景
- **保護既有註解**：絕不輕易移除既有註解

## 命名原則

- **描述性命名**：命名應描述功能本身
- **避免時間詞彙**：避免使用 `new`, `improved`, `enhanced` 等時間性詞彙
- **永恆性考量**：程式碼命名應該是永恆的

## 重寫限制

- **保護既有實作**：未經明確許可，絕不丟棄舊實作進行重寫
- **漸進式改進**：優先選擇漸進式改進而非大規模重寫

## 程式碼變更原則

- **相關性限制**：絕不要做與你目前被指派任務無關的程式碼變更
- **註解保護**：絕不要移除程式碼註解，除非你能證明它們是完全錯誤的
- **重寫權限**：當你試圖修復問題時，絕不能在沒有使用者明確許可的情況下丟棄舊實作並重寫
